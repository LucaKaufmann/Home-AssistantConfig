platform: template
name: Xiaomi Vacuum
sensors:
  vacuum_status:
    value_template: "{{ states.vacuum.eve.attributes['status'] }}"
    friendly_name: "Status"
    icon_template: mdi:information
#icon_template: "{% if is_state('switch.evie.attributes['Status']", "Charging") %}mdi:battery-charging{% else if is_state("switch.evie.attributes['Status']", "Cleaning")  %}mdi:broom{% else %}mdi:information{% endif %}'
  vacuum_fan:
    value_template: "{{ states.vacuum.eve.attributes['fan_speed'] }}"
    friendly_name: "Fan"
    icon_template: mdi:fan
  vacuum_cleaned_area:
    value_template: "{{ states.vacuum.eve.attributes['cleaned_area'] }}"
    friendly_name: "Cleaned area"
    unit_of_measurement: "m2"
    icon_template: mdi:broom
  vacuum_battery:
    value_template: "{{ states.vacuum.eve.attributes['battery_level'] }}"
    friendly_name: "Battery"
    unit_of_measurement: "%"
    icon_template: mdi:battery
#icon_template: '{% if is_state("switch.evie.attributes['Battery']", 100) %}mdi:battery-charging-100{% else %}mdi:battery-charging-60{% endif %}'
  vacuum_cleaning_time:
    value_template: "{{ states.vacuum.eve.attributes['cleaning_time'] }}"
    friendly_name: "Cleaning time"
    icon_template: mdi:timer
